@{
    ViewBag.Title = "Login";
}
<div class="container">
    <h2>@ViewBag.Title.</h2>
    @*@using (Html.BeginForm("Authorization", "Home", FormMethod.Post))
    {
        <form method="post">
            <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" name="username">
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" name="password">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    }*@

    <h5>JS</h5>
        <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" name="username" >
        </div>
        <div class="form-group">
            <label for="exampleInputPassword1">Password</label>
            <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password" name="password">
        </div>
        <button type="submit" class="btn btn-primary" onclick="login()">Submit</button>

</div>


<script type="text/javascript">
    function login() {
        var data = {
        Username: document.getElementById('exampleInputEmail1').value,
            Password: document.getElementById('exampleInputPassword1').value
        }

        const url = 'https://localhost:5001/users/testAuthorization';

        fetch(url, {
            method: 'POST',
            body: JSON.stringify(data),
            headers: {
                    'Content-Type': 'application/json'
            }
        })
            .then(function (responce) {
                return responce.json();
            })
            .then(function (result) {
                console.log("result", result);
                localStorage.setItem("id_User", result.id_User)
                localStorage.setItem("username", result.username)
            })
            .catch(function (error) {
                console.log('Request failed', error);
            });
    }

    //async function login(){
    //    var data = {
    //        Username: document.getElementById('exampleInputEmail1').value,
    //        Password: document.getElementById('exampleInputPassword1').value
    //    }
    //    console.log(data, null, 2)

    //    const url = 'https://localhost:5001/users/testAuthorization';

    //    try {
    //        const response = await fetch(url, {
    //            method: 'POST',
    //            body: JSON.stringify(data),
    //            headers: {
    //                'Content-Type': 'application/json'
    //            }
    //        })
    //        const json = await response.json();
    //        console.log(JSON.stringify(json, null, 4));
    //    } catch (error) {
    //        console.error('Ошибка:', error);
    //    }
    //}
</script>