<ngx-datatable #table class='material striped' [columnMode]="'flex'" [headerHeight]="50" [footerHeight]="50"
    [rowHeight]="'auto'" [limit]="10" [rows]='rows'>

    <!-- Other Columns -->
    <ngx-datatable-column [flexGrow]="1.5" name="id_Product" prop="id_Product">
        <ng-template let-row="row" ngx-datatable-cell-template>
            {{row.id_Product}}
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column [flexGrow]="1.5" name="name" prop="name">
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
            <mat-form-field>
                <input [id]="'name-'+row.id_Product" matInput [value]="value" [(ngModel)]="row.name" [disabled]="!isEditable[rowIndex]">
            </mat-form-field>
        </ng-template>
    </ngx-datatable-column>

    <ngx-datatable-column [flexGrow]="1.5" name="description" prop="description">
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
            <mat-form-field>
                <input [id]="'description-'+row.id_Product" matInput [value]="value" [(ngModel)]="row.description" [disabled]="!isEditable[rowIndex]">
            </mat-form-field>
        </ng-template>
    </ngx-datatable-column>

    <!-- Column: Editing Mode-->
    <ngx-datatable-column [flexGrow]="0.5">
        <ng-template let-value="value" let-row="row" let-rowIndex="rowIndex" ngx-datatable-cell-template>
            <!-- Pencil icon -->
            <i class="fa fa-pencil" title="Modify" *ngIf="!this.isEditable[rowIndex]"
                (click)="this.isEditable[rowIndex]=!this.isEditable[rowIndex]">Pencil</i>

            <!-- Save/Delete icons -->
            <i class="fa fa-floppy-o" *ngIf="this.isEditable[rowIndex]" title="Save"
                (click)="save(row, rowIndex);">Update </i>
            <i class="fa fa-trash-o" *ngIf="this.isEditable[rowIndex]" title="Delete"
                (click)="delete(row,rowIndex)"> Delete</i>
        </ng-template>
    </ngx-datatable-column>

</ngx-datatable>

<!-- <div>
    <ngx-datatable #mydatatable class="material" [headerHeight]="50" [limit]="5" [columnMode]="ColumnMode.force"
        [footerHeight]="50" rowHeight="auto" [rows]="rows">

        <ngx-datatable-column name="id_Product" [sortable]="false">
            <ng-template let-row="row" ngx-datatable-cell-template>
                {{row.id_Product}}
            </ng-template>
        </ngx-datatable-column>

        <ngx-datatable-column name="Name">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
              <span
                title="Double click to edit"
                (dblclick)="editing[rowIndex + '-name'] = true"
                *ngIf="!editing[rowIndex + '-name']"
              >
                {{ value }}
              </span>
              <input
                autofocus
                (blur)="updateValue($event, 'name', rowIndex)"
                *ngIf="editing[rowIndex + '-name']"
                type="text"
                [value]="value"
              />
            </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="description">
            <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
              <span
                title="Double click to edit"
                (dblclick)="editing[rowIndex + '-description'] = true"
                *ngIf="!editing[rowIndex + '-description']"
              >
                {{ value }}
              </span>
              <input
                autofocus
                (blur)="updateValue($event, 'description', rowIndex)"
                *ngIf="editing[rowIndex + '-description']"
                type="text"
                [value]="value"
              />
            </ng-template>
          </ngx-datatable-column>
          
    </ngx-datatable>
</div> -->
<!-- <div>
    <ngx-datatable
      #mydatatable
      class="material"
      [headerHeight]="50"
      [limit]="5"
      [columnMode]="ColumnMode.force"
      [footerHeight]="50"
      rowHeight="auto"
      [rows]="rows"
    >
      <ngx-datatable-column name="Name">
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-value="value" let-row="row">
          <span
            title="Double click to edit"
            (dblclick)="editing[rowIndex + '-name'] = true"
            *ngIf="!editing[rowIndex + '-name']"
          >
            {{ value }}
          </span>
          <input
            autofocus
            (blur)="updateValue($event, 'name', rowIndex)"
            *ngIf="editing[rowIndex + '-name']"
            type="text"
            [value]="value"
          />
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Gender">
        <ng-template ngx-datatable-cell-template let-rowIndex="rowIndex" let-row="row" let-value="value">
          <span
            title="Double click to edit"
            (dblclick)="editing[rowIndex + '-gender'] = true"
            *ngIf="!editing[rowIndex + '-gender']"
          >
            {{ value }}
          </span>
          <select
            *ngIf="editing[rowIndex + '-gender']"
            (blur)="editing[rowIndex + '-gender'] = false"
            (change)="updateValue($event, 'gender', rowIndex)"
            [value]="value"
          >
            <option value="male">Male</option>
            <option value="female">Female</option>
          </select>
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Age">
        <ng-template ngx-datatable-cell-template let-value="value">
          {{ value }}
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </div> -->